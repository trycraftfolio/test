<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Galaxy A17 5G — Event Frame</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" type="image/png" sizes="32x32" href="assets/favicon.png">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="page-wrap">
    <header class="site-header">
      <h1 class="brand-title">Start your Galaxy Moment</h1>
    </header>

    <main class="content two-col">
      <!-- Left: Stage -->
      <section class="stage-card" aria-label="Photo stage">
        <div class="canvas-wrap">
          <canvas id="photoCanvas" width="1080" height="1350" aria-label="Canvas"></canvas>

          <!-- Frame overlay (decorative, now webp) -->
          <img id="frame" src="assets/frame.webp" alt="" aria-hidden="true" />

          <!-- Hidden source image -->
          <img id="sourceImage" alt="" hidden aria-hidden="true">

          <!-- Frame load hint -->
          <div id="frameHint" class="frame-hint" role="status" aria-live="polite">Loading frame…</div>
        </div>
      </section>

      <!-- Right: Controls + Tips -->
      <section class="right-rail" aria-label="Controls and tips">
        <div class="controls">
          <!-- Joystick -->
          <div class="joystick" role="group" aria-label="Joystick controls">
            <button class="joy-btn" id="joy-up"    aria-label="Move up">▲</button>
            <div class="joy-mid">
              <button class="joy-btn" id="joy-left"   aria-label="Move left">◀</button>
              <button class="joy-btn" id="joy-center" aria-label="Speed">●</button>
              <button class="joy-btn" id="joy-right"  aria-label="Move right">▶</button>
            </div>
            <button class="joy-btn" id="joy-down"  aria-label="Move down">▼</button>
          </div>

          <!-- Rotate + Fit + Center on same row -->
          <div class="rotate-row one">
            <button class="btn btn-ghost" id="btn-rotate" type="button" title="Rotate 90°" aria-pressed="false">⟳ Rotate 90°</button>
            <button class="btn btn-ghost" id="btn-fit" type="button" title="Fit to frame window">Fit</button>
            <button class="btn btn-ghost" id="btn-center" type="button" title="Center in window">Center</button>
          </div>

          <!-- Zoom -->
          <div class="sliders">
            <label class="slider-row" for="scaleRange">
              <span>Zoom</span>
              <input type="range" id="scaleRange" min="0.3" max="3" value="1" step="0.01" />
            </label>
          </div>

          <!-- Actions -->
          <div class="actions">
            <label class="btn btn-upload">
              <input id="fileInput" type="file" accept="image/*" capture="environment" />
              <span id="uploadLabel">Upload Photo</span>
            </label>
            <button id="downloadBtn" class="btn btn-primary" type="button">Download</button>
            <button id="clearBtn" class="btn btn-ghost" type="button" title="Clear and start over" aria-label="Clear">✕</button>
          </div>

          <p id="msg" class="msg" role="alert" aria-live="polite"></p>
        </div>

        <aside class="tips">
          <h3>Tips</h3>
          <ul>
            <li>Upload a photo (WebP/JPG/PNG), then drag or use the joystick to position; adjust Zoom or double-tap/double-click to toggle zoom.</li>
            <li>Rotate 90°, use Fit to fill the frame window, and Center to align the image within the window.</li>
            <li>Download as JPG when ready, or use Clear to reset and upload a new photo.</li>
          </ul>
        </aside>
      </section>
    </main>

    <footer class="site-footer">
      <p>© 2025 Ducksoup Creatives</p>
    </footer>
  </div>

  <script src="app.js" defer></script>
</body>
</html>
